[debug] [2021-04-09T06:13:13.424Z] ----------------------------------------------------------------------
[debug] [2021-04-09T06:13:13.426Z] Command:       /home/vince/.nvm/versions/node/v14.15.0/bin/node /home/vince/.nvm/versions/node/v14.15.0/bin/firebase deploy --only functions
[debug] [2021-04-09T06:13:13.427Z] CLI Version:   9.9.0
[debug] [2021-04-09T06:13:13.427Z] Platform:      linux
[debug] [2021-04-09T06:13:13.427Z] Node Version:  v14.15.0
[debug] [2021-04-09T06:13:13.427Z] Time:          Fri Apr 09 2021 16:13:13 GMT+1000 (Australian Eastern Standard Time)
[debug] [2021-04-09T06:13:13.428Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-04-09T06:13:13.434Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-04-09T06:13:13.434Z] > authorizing via signed-in user (vincent@tastiest.io)
[debug] [2021-04-09T06:13:13.434Z] [iam] checking project tastiest-dishes for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2021-04-09T06:13:13.436Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/tastiest-dishes:testIamPermissions  
 {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2021-04-09T06:13:14.890Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:14 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1002","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:14.892Z] >>> HTTP REQUEST POST https://iam.googleapis.com/v1/projects/tastiest-dishes/serviceAccounts/tastiest-dishes@appspot.gserviceaccount.com:testIamPermissions  
 {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2021-04-09T06:13:16.806Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:16 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] 
[info] === Deploying to 'tastiest-dishes'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2021-04-09T06:13:26.010Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/tastiest-dishes/services/cloudfunctions.googleapis.com  
 
[debug] [2021-04-09T06:13:26.011Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/tastiest-dishes/services/runtimeconfig.googleapis.com  
 
[debug] [2021-04-09T06:13:26.011Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/tastiest-dishes/services/cloudbuild.googleapis.com  
 
[debug] [2021-04-09T06:13:27.718Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:27 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:27.835Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:27 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[warn] ⚠  functions: missing required API cloudbuild.googleapis.com. Enabling now... 
[debug] [2021-04-09T06:13:27.837Z] >>> HTTP REQUEST POST https://serviceusage.googleapis.com/v1/projects/tastiest-dishes/services/cloudbuild.googleapis.com:enable  
 
[debug] [2021-04-09T06:13:27.886Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:27 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2021-04-09T06:13:29.806Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:29 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:39.818Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/tastiest-dishes/services/cloudbuild.googleapis.com  
 
[debug] [2021-04-09T06:13:42.201Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:41 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2021-04-09T06:13:42.204Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/tastiest-dishes/adminSdkConfig  
 
[debug] [2021-04-09T06:13:43.019Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:42 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: preparing functions directory for uploading... 
[debug] [2021-04-09T06:13:43.021Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs  
 
[debug] [2021-04-09T06:13:43.737Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:43 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:43.738Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/segment/variables  
 
[debug] [2021-04-09T06:13:43.738Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/stripe/variables  
 
[debug] [2021-04-09T06:13:43.739Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/klaviyo/variables  
 
[debug] [2021-04-09T06:13:44.556Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:44 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:44.557Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/klaviyo/variables/public_key  
 
[debug] [2021-04-09T06:13:44.558Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/klaviyo/variables/secret_key  
 
[debug] [2021-04-09T06:13:44.593Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:44 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:44.594Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/stripe/variables/secret_test  
 
[debug] [2021-04-09T06:13:45.375Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:45 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:45.376Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:45 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:45.473Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:45 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:45.475Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/segment/variables/write_key  
 
[debug] [2021-04-09T06:13:45.547Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:45 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:47.013Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:46 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: packaged functions (84.45 KB) for uploading 
[debug] [2021-04-09T06:13:47.252Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "lint": "eslint './src/**' --quiet --fix"
  },
  "engines": {
    "node": "14"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@tastiest-io/tastiest-utils": "^0.11.0",
    "@types/analytics-node": "^3.1.4",
    "analytics-node": "^4.0.1",
    "eslint": "^7.23.0",
    "firebase-admin": "^9.2.0",
    "firebase-functions": "^3.11.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0",
    "typescript": "^3.8.0"
  },
  "private": true
}
[debug] [2021-04-09T06:13:47.254Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/tastiest-dishes/locations/-/functions  
 
[debug] [2021-04-09T06:13:48.347Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:48 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:48.348Z] [functions] found 1 new HTTP functions, testing setIamPolicy permission...
[debug] [2021-04-09T06:13:48.349Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/tastiest-dishes:testIamPermissions  
 {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2021-04-09T06:13:49.821Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:13:49 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=961","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:13:49.822Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2021-04-09T06:13:49.822Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/tastiest-dishes/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2021-04-09T06:14:03.705Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:03 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:03.706Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-9f7bf419-43eb-49fb-8690-a35cfc960584/00a2cceb-c05d-4800-898c-49949353180b.zip?GoogleAccessId=service-931027565280@gcf-admin-robot.iam.gserviceaccount.com&Expires=1617950643&Signature=fVJsCjJcNFS%2F6wyKHwsPmeQwN6k4z4HrGnRb9DXt3bWEOZTom4uE%2Bfk713iIyFJhillXSu3bW8ZH%2B3O%2Frqts5SZqU6NelP3u5xirzYqGx2GsLaITrJn6G02WPzFf53nOqkR8u%2F%2FvgCyu9YXA%2B0RVHkN2GEoNtxmtMoTs6wp0kSwNKCL3mHBMoEwdKXxj8b0JP6UOQy0LSX3Frq2kLHHSmvwQUQjqww%2FRTsthxg3PxzXi4INcsBH8xYIl2R5EnhHKUFD7cTT6HwBuSYJ9UprwxaHI2Kk%2BM69aGCvCDbdjQHjJPujSk9%2BaDZjD2wHnkeAWJeS0K2XDLnnWC4QYtB%2Bg%2Fg%3D%3D  
 <request body omitted>
[debug] [2021-04-09T06:14:05.343Z] <<< HTTP RESPONSE 200 {"x-guploader-uploadid":"ABg5-UzybLqJGd8pRn2DboHDRiCye2AKvUX-gp0BzvDQStNIlfDGsw6kiCpyExpok_oI1KGArH3SLXeCE8eCeoWbBlhxKv0w1g","etag":"\"8a35e0b92f9e4b5fc8439c95d2d315c5\"","x-goog-generation":"1617948845120632","x-goog-metageneration":"1","x-goog-hash":"crc32c=/7Av7g==, md5=ijXguS+eS1/IQ5yV0tMVxQ==","x-goog-stored-content-length":"86474","x-goog-stored-content-encoding":"identity","vary":"Origin","content-length":"0","date":"Fri, 09 Apr 2021 06:14:05 GMT","server":"UploadServer","content-type":"text/html; charset=UTF-8","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\""}
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 14 (Beta) function pay(us-central1)... 
[debug] [2021-04-09T06:14:05.350Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/tastiest-dishes/locations/us-central1/functions  
 {"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-9f7bf419-43eb-49fb-8690-a35cfc960584/00a2cceb-c05d-4800-898c-49949353180b.zip?GoogleAccessId=service-931027565280@gcf-admin-robot.iam.gserviceaccount.com&Expires=1617950643&Signature=fVJsCjJcNFS%2F6wyKHwsPmeQwN6k4z4HrGnRb9DXt3bWEOZTom4uE%2Bfk713iIyFJhillXSu3bW8ZH%2B3O%2Frqts5SZqU6NelP3u5xirzYqGx2GsLaITrJn6G02WPzFf53nOqkR8u%2F%2FvgCyu9YXA%2B0RVHkN2GEoNtxmtMoTs6wp0kSwNKCL3mHBMoEwdKXxj8b0JP6UOQy0LSX3Frq2kLHHSmvwQUQjqww%2FRTsthxg3PxzXi4INcsBH8xYIl2R5EnhHKUFD7cTT6HwBuSYJ9UprwxaHI2Kk%2BM69aGCvCDbdjQHjJPujSk9%2BaDZjD2wHnkeAWJeS0K2XDLnnWC4QYtB%2Bg%2Fg%3D%3D","name":"projects/tastiest-dishes/locations/us-central1/functions/pay","entryPoint":"pay","labels":{"deployment-tool":"cli-firebase"},"runtime":"nodejs14","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"tastiest-dishes\",\"databaseURL\":\"https://tastiest-dishes.firebaseio.com\",\"storageBucket\":\"tastiest-dishes.appspot.com\",\"locationId\":\"europe-west3\"}"},"httpsTrigger":{}}
[debug] [2021-04-09T06:14:06.675Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:06 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:06.678Z] > refreshing access token with scopes: []
[debug] [2021-04-09T06:14:06.679Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-04-09T06:14:07.186Z] <<< HTTP RESPONSE 200 {"pragma":"no-cache","date":"Fri, 09 Apr 2021 06:14:07 GMT","expires":"Mon, 01 Jan 1990 00:00:00 GMT","cache-control":"no-cache, no-store, max-age=0, must-revalidate","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:07.205Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ [none]
[debug] [2021-04-09T06:14:08.019Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ 200
[debug] [2021-04-09T06:14:08.020Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ {"name":"operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/tastiest-dishes/locations/us-central1/functions/pay","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/tastiest-dishes/locations/us-central1/functions/pay","httpsTrigger":{},"entryPoint":"pay","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-9f7bf419-43eb-49fb-8690-a35cfc960584/00a2cceb-c05d-4800-898c-49949353180b.zip?GoogleAccessId=service-931027565280@gcf-admin-robot.iam.gserviceaccount.com&Expires=1617950643&Signature=fVJsCjJcNFS%2F6wyKHwsPmeQwN6k4z4HrGnRb9DXt3bWEOZTom4uE%2Bfk713iIyFJhillXSu3bW8ZH%2B3O%2Frqts5SZqU6NelP3u5xirzYqGx2GsLaITrJn6G02WPzFf53nOqkR8u%2F%2FvgCyu9YXA%2B0RVHkN2GEoNtxmtMoTs6wp0kSwNKCL3mHBMoEwdKXxj8b0JP6UOQy0LSX3Frq2kLHHSmvwQUQjqww%2FRTsthxg3PxzXi4INcsBH8xYIl2R5EnhHKUFD7cTT6HwBuSYJ9UprwxaHI2Kk%2BM69aGCvCDbdjQHjJPujSk9%2BaDZjD2wHnkeAWJeS0K2XDLnnWC4QYtB%2Bg%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"tastiest-dishes\",\"databaseURL\":\"https://tastiest-dishes.firebaseio.com\",\"storageBucket\":\"tastiest-dishes.appspot.com\",\"locationId\":\"europe-west3\"}"},"runtime":"nodejs14"},"versionId":"1","updateTime":"2021-04-09T06:14:06Z"}}
[debug] [2021-04-09T06:14:08.520Z] [create-projects/tastiest-dishes/locations/us-central1/functions/pay] Retrying task index 0
[debug] [2021-04-09T06:14:08.521Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ [none]
[debug] [2021-04-09T06:14:09.358Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ 200
[debug] [2021-04-09T06:14:09.359Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ {"name":"operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/tastiest-dishes/locations/us-central1/functions/pay","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/tastiest-dishes/locations/us-central1/functions/pay","httpsTrigger":{},"entryPoint":"pay","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-9f7bf419-43eb-49fb-8690-a35cfc960584/00a2cceb-c05d-4800-898c-49949353180b.zip?GoogleAccessId=service-931027565280@gcf-admin-robot.iam.gserviceaccount.com&Expires=1617950643&Signature=fVJsCjJcNFS%2F6wyKHwsPmeQwN6k4z4HrGnRb9DXt3bWEOZTom4uE%2Bfk713iIyFJhillXSu3bW8ZH%2B3O%2Frqts5SZqU6NelP3u5xirzYqGx2GsLaITrJn6G02WPzFf53nOqkR8u%2F%2FvgCyu9YXA%2B0RVHkN2GEoNtxmtMoTs6wp0kSwNKCL3mHBMoEwdKXxj8b0JP6UOQy0LSX3Frq2kLHHSmvwQUQjqww%2FRTsthxg3PxzXi4INcsBH8xYIl2R5EnhHKUFD7cTT6HwBuSYJ9UprwxaHI2Kk%2BM69aGCvCDbdjQHjJPujSk9%2BaDZjD2wHnkeAWJeS0K2XDLnnWC4QYtB%2Bg%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"tastiest-dishes\",\"databaseURL\":\"https://tastiest-dishes.firebaseio.com\",\"storageBucket\":\"tastiest-dishes.appspot.com\",\"locationId\":\"europe-west3\"}"},"runtime":"nodejs14"},"versionId":"1","updateTime":"2021-04-09T06:14:06Z","buildId":"7c3d69e1-eae6-4491-aa7d-d073832c6e60"}}
[debug] [2021-04-09T06:14:10.359Z] [create-projects/tastiest-dishes/locations/us-central1/functions/pay] Retrying task index 0
[debug] [2021-04-09T06:14:10.360Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ [none]
[debug] [2021-04-09T06:14:11.258Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ 200
[debug] [2021-04-09T06:14:11.258Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ {"name":"operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/tastiest-dishes/locations/us-central1/functions/pay","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/tastiest-dishes/locations/us-central1/functions/pay","httpsTrigger":{},"entryPoint":"pay","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-9f7bf419-43eb-49fb-8690-a35cfc960584/00a2cceb-c05d-4800-898c-49949353180b.zip?GoogleAccessId=service-931027565280@gcf-admin-robot.iam.gserviceaccount.com&Expires=1617950643&Signature=fVJsCjJcNFS%2F6wyKHwsPmeQwN6k4z4HrGnRb9DXt3bWEOZTom4uE%2Bfk713iIyFJhillXSu3bW8ZH%2B3O%2Frqts5SZqU6NelP3u5xirzYqGx2GsLaITrJn6G02WPzFf53nOqkR8u%2F%2FvgCyu9YXA%2B0RVHkN2GEoNtxmtMoTs6wp0kSwNKCL3mHBMoEwdKXxj8b0JP6UOQy0LSX3Frq2kLHHSmvwQUQjqww%2FRTsthxg3PxzXi4INcsBH8xYIl2R5EnhHKUFD7cTT6HwBuSYJ9UprwxaHI2Kk%2BM69aGCvCDbdjQHjJPujSk9%2BaDZjD2wHnkeAWJeS0K2XDLnnWC4QYtB%2Bg%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"tastiest-dishes\",\"databaseURL\":\"https://tastiest-dishes.firebaseio.com\",\"storageBucket\":\"tastiest-dishes.appspot.com\",\"locationId\":\"europe-west3\"}"},"runtime":"nodejs14"},"versionId":"1","updateTime":"2021-04-09T06:14:06Z","buildId":"7c3d69e1-eae6-4491-aa7d-d073832c6e60"}}
[debug] [2021-04-09T06:14:13.259Z] [create-projects/tastiest-dishes/locations/us-central1/functions/pay] Retrying task index 0
[debug] [2021-04-09T06:14:13.260Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ [none]
[debug] [2021-04-09T06:14:14.154Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ 200
[debug] [2021-04-09T06:14:14.154Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ {"name":"operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/tastiest-dishes/locations/us-central1/functions/pay","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/tastiest-dishes/locations/us-central1/functions/pay","httpsTrigger":{},"entryPoint":"pay","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-9f7bf419-43eb-49fb-8690-a35cfc960584/00a2cceb-c05d-4800-898c-49949353180b.zip?GoogleAccessId=service-931027565280@gcf-admin-robot.iam.gserviceaccount.com&Expires=1617950643&Signature=fVJsCjJcNFS%2F6wyKHwsPmeQwN6k4z4HrGnRb9DXt3bWEOZTom4uE%2Bfk713iIyFJhillXSu3bW8ZH%2B3O%2Frqts5SZqU6NelP3u5xirzYqGx2GsLaITrJn6G02WPzFf53nOqkR8u%2F%2FvgCyu9YXA%2B0RVHkN2GEoNtxmtMoTs6wp0kSwNKCL3mHBMoEwdKXxj8b0JP6UOQy0LSX3Frq2kLHHSmvwQUQjqww%2FRTsthxg3PxzXi4INcsBH8xYIl2R5EnhHKUFD7cTT6HwBuSYJ9UprwxaHI2Kk%2BM69aGCvCDbdjQHjJPujSk9%2BaDZjD2wHnkeAWJeS0K2XDLnnWC4QYtB%2Bg%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"tastiest-dishes\",\"databaseURL\":\"https://tastiest-dishes.firebaseio.com\",\"storageBucket\":\"tastiest-dishes.appspot.com\",\"locationId\":\"europe-west3\"}"},"runtime":"nodejs14"},"versionId":"1","updateTime":"2021-04-09T06:14:06Z","buildId":"7c3d69e1-eae6-4491-aa7d-d073832c6e60"}}
[debug] [2021-04-09T06:14:18.159Z] [create-projects/tastiest-dishes/locations/us-central1/functions/pay] Retrying task index 0
[debug] [2021-04-09T06:14:18.160Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ [none]
[debug] [2021-04-09T06:14:18.917Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ 200
[debug] [2021-04-09T06:14:18.917Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ {"name":"operations/dGFzdGllc3QtZGlzaGVzL3VzLWNlbnRyYWwxL3BheS9UVkdycXdHLUJnRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/tastiest-dishes/locations/us-central1/functions/pay","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/tastiest-dishes/locations/us-central1/functions/pay","httpsTrigger":{},"entryPoint":"pay","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-9f7bf419-43eb-49fb-8690-a35cfc960584/00a2cceb-c05d-4800-898c-49949353180b.zip?GoogleAccessId=service-931027565280@gcf-admin-robot.iam.gserviceaccount.com&Expires=1617950643&Signature=fVJsCjJcNFS%2F6wyKHwsPmeQwN6k4z4HrGnRb9DXt3bWEOZTom4uE%2Bfk713iIyFJhillXSu3bW8ZH%2B3O%2Frqts5SZqU6NelP3u5xirzYqGx2GsLaITrJn6G02WPzFf53nOqkR8u%2F%2FvgCyu9YXA%2B0RVHkN2GEoNtxmtMoTs6wp0kSwNKCL3mHBMoEwdKXxj8b0JP6UOQy0LSX3Frq2kLHHSmvwQUQjqww%2FRTsthxg3PxzXi4INcsBH8xYIl2R5EnhHKUFD7cTT6HwBuSYJ9UprwxaHI2Kk%2BM69aGCvCDbdjQHjJPujSk9%2BaDZjD2wHnkeAWJeS0K2XDLnnWC4QYtB%2Bg%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"tastiest-dishes\",\"databaseURL\":\"https://tastiest-dishes.firebaseio.com\",\"storageBucket\":\"tastiest-dishes.appspot.com\",\"locationId\":\"europe-west3\"}"},"runtime":"nodejs14"},"versionId":"1","updateTime":"2021-04-09T06:14:06Z","buildId":"7c3d69e1-eae6-4491-aa7d-d073832c6e60"}}
[debug] [2021-04-09T06:14:22.941Z] ----------------------------------------------------------------------
[debug] [2021-04-09T06:14:22.942Z] Command:       /home/vince/.nvm/versions/node/v14.15.0/bin/node /home/vince/.nvm/versions/node/v14.15.0/bin/firebase deploy --only functions
[debug] [2021-04-09T06:14:22.943Z] CLI Version:   9.9.0
[debug] [2021-04-09T06:14:22.943Z] Platform:      linux
[debug] [2021-04-09T06:14:22.943Z] Node Version:  v14.15.0
[debug] [2021-04-09T06:14:22.943Z] Time:          Fri Apr 09 2021 16:14:22 GMT+1000 (Australian Eastern Standard Time)
[debug] [2021-04-09T06:14:22.943Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-04-09T06:14:22.951Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-04-09T06:14:22.951Z] > authorizing via signed-in user (vincent@tastiest.io)
[debug] [2021-04-09T06:14:22.951Z] [iam] checking project tastiest-dishes for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2021-04-09T06:14:22.953Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2021-04-09T06:14:22.953Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-04-09T06:14:23.576Z] <<< HTTP RESPONSE 200 {"date":"Fri, 09 Apr 2021 06:14:23 GMT","expires":"Mon, 01 Jan 1990 00:00:00 GMT","cache-control":"no-cache, no-store, max-age=0, must-revalidate","pragma":"no-cache","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:23.584Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/tastiest-dishes:testIamPermissions  
 {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2021-04-09T06:14:25.005Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:24 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1010","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:25.007Z] >>> HTTP REQUEST POST https://iam.googleapis.com/v1/projects/tastiest-dishes/serviceAccounts/tastiest-dishes@appspot.gserviceaccount.com:testIamPermissions  
 {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2021-04-09T06:14:26.590Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:26 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] 
[info] === Deploying to 'tastiest-dishes'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2021-04-09T06:14:35.403Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/tastiest-dishes/services/cloudfunctions.googleapis.com  
 
[debug] [2021-04-09T06:14:35.404Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/tastiest-dishes/services/runtimeconfig.googleapis.com  
 
[debug] [2021-04-09T06:14:35.405Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/tastiest-dishes/services/cloudbuild.googleapis.com  
 
[debug] [2021-04-09T06:14:37.245Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:36 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:37.397Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:36 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2021-04-09T06:14:37.525Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:36 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2021-04-09T06:14:37.526Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/tastiest-dishes/adminSdkConfig  
 
[debug] [2021-04-09T06:14:38.316Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:38 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: preparing functions directory for uploading... 
[debug] [2021-04-09T06:14:38.318Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs  
 
[debug] [2021-04-09T06:14:39.081Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:38 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:39.083Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/klaviyo/variables  
 
[debug] [2021-04-09T06:14:39.083Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/segment/variables  
 
[debug] [2021-04-09T06:14:39.084Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/stripe/variables  
 
[debug] [2021-04-09T06:14:39.808Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:39 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:39.810Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/stripe/variables/secret_test  
 
[debug] [2021-04-09T06:14:39.954Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:39 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:39.956Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/klaviyo/variables/public_key  
 
[debug] [2021-04-09T06:14:39.956Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/klaviyo/variables/secret_key  
 
[debug] [2021-04-09T06:14:39.979Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:39 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:39.980Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tastiest-dishes/configs/segment/variables/write_key  
 
[debug] [2021-04-09T06:14:40.581Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:40 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:40.801Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:40 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:41.789Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:41 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-04-09T06:14:41.799Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 09 Apr 2021 06:14:41 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: packaged functions (84.45 KB) for uploading 
[debug] [2021-04-09T06:14:42.004Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "lint": "eslint './src/**' --quiet --fix"
  },
  "engines": {
    "node": "14"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@tastiest-io/tastiest-utils": "^0.11.0",
    "@types/analytics-node": "^3.1.4",
    "analytics-node": "^4.0.1",
    "eslint": "^7.23.0",
    "firebase-admin": "^9.2.0",
    "firebase-functions": "^3.11.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0",
    "typescript": "^3.8.0"
  },
  "private": true
}
[debug] [2021-04-09T06:14:42.006Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/tastiest-dishes/locations/-/functions  
 
